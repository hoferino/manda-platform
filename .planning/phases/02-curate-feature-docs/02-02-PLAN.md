---
phase: 02-curate-feature-docs
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/features/knowledge-graph/README.md
autonomous: true

must_haves:
  truths:
    - "Knowledge graph current docs are in docs/features/knowledge-graph/"
    - "README lists what's current vs historical"
    - "E10 migration context documented"
  artifacts:
    - path: "docs/features/knowledge-graph/README.md"
      provides: "Updated index with current/historical classification"
      min_lines: 60
  key_links:
    - from: "docs/features/knowledge-graph/README.md"
      to: "_bmad-output/planning-artifacts/dynamic-kg-pipeline/"
      via: "relative links to historical docs"
      pattern: "_bmad-output.*dynamic-kg"
---

<objective>
Curate Knowledge Graph documentation by updating README with current/historical classification.

Purpose: Consolidate knowledge-graph docs so developers understand the current Graphiti+Neo4j architecture
Output: Updated README with current/historical classification and E10 migration context
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-create-structure/01-01-SUMMARY.md

# Source docs to review
@docs/dynamic-knowledge-graph-pipeline-plan.md
@_bmad-output/planning-artifacts/dynamic-kg-pipeline/dynamic-kg-pipeline-prd.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update knowledge-graph README with current/historical classification</name>
  <files>docs/features/knowledge-graph/README.md</files>
  <action>
Update `docs/features/knowledge-graph/README.md` to replace the placeholder with actual content:

1. Keep the existing Overview, Architecture, Key Components, and Implementation sections
2. Add an "E10 Migration Context" section after Implementation:

## E10 Migration Context

As of E10 completion (2025-12-17), all embeddings and semantic search were consolidated to Graphiti + Neo4j:

- **Removed:** pgvector and PostgreSQL-based vector storage
- **Current:** Voyage voyage-3.5 embeddings stored in Neo4j
- **Decision:** See [SCP-003](../../decisions/sprint-change-proposal-2025-12-15.md)

This means:
- All vector search goes through Graphiti hybrid search
- No more dual-storage (PG + Neo4j) complexity
- Entity resolution and temporal facts in single graph

3. Replace the "Documentation" section placeholder with:

## Documentation

### Current (Authoritative)

The knowledge graph implementation is documented primarily in code:

| Location | Description |
|----------|-------------|
| `manda-processing/src/graphiti/` | Graphiti client and ingestion |
| `manda-processing/src/jobs/handlers/ingest_graphiti.py` | Ingestion job handler |
| `manda-app/lib/agent/v2/nodes/retrieval.ts` | Frontend retrieval integration |
| CLAUDE.md | Architecture overview and E10 context |

### Historical (Planning Reference)

These documents capture planning before implementation:

| Document | Purpose | Notes |
|----------|---------|-------|
| [Dynamic KG Pipeline PRD](../../../_bmad-output/planning-artifacts/dynamic-kg-pipeline/dynamic-kg-pipeline-prd.md) | Requirements for dynamic extraction | Future enhancement planned |
| [Dynamic KG Pipeline ADR](../../../_bmad-output/planning-artifacts/dynamic-kg-pipeline/dynamic-kg-pipeline-adr.md) | Architecture decision record | |
| [Pipeline Plan](../../dynamic-knowledge-graph-pipeline-plan.md) | Initial design document | Pre-implementation spec |
| [Epic & Stories](../../../_bmad-output/planning-artifacts/dynamic-kg-pipeline/) | E14 epic breakdown | Not yet implemented |

### Dynamic Extraction (Future)

The Dynamic KG Pipeline (E14) is planned but not yet implemented. It will add:
- Document-type-aware extraction hints
- Dynamic entity discovery (beyond predefined types)
- Complexity-based routing

4. Keep the "Back to Feature Documentation" link at bottom
  </action>
  <verify>
README.md has:
- "E10 Migration Context" section explaining pgvector removal
- "Current (Authoritative)" section with code locations
- "Historical (Planning Reference)" section with _bmad-output/ links
- "Dynamic Extraction (Future)" section noting E14 status
- At least 60 lines
  </verify>
  <done>Knowledge graph README updated with current/historical classification</done>
</task>

</tasks>

<verification>
- [ ] docs/features/knowledge-graph/README.md has current/historical sections
- [ ] E10 migration context is documented
- [ ] Links in README are valid relative paths
- [ ] Future work (E14) is clearly marked as not yet implemented
</verification>

<success_criteria>
- Knowledge graph feature folder has clear current vs historical distinction
- E10 migration decision is documented in context
- Requirements KG-01 and KG-02 satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/02-curate-feature-docs/02-02-SUMMARY.md`
</output>
