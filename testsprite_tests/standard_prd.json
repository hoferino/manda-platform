{
  "meta": {
    "project": "Manda Platform - M&A Intelligence with Conversational AI",
    "date": "2026-01-14",
    "prepared_by": "Generated by Testsprite"
  },
  "product_overview": "Manda is a B2B SaaS platform that revolutionizes M&A deal analysis by integrating a secure document data room, advanced knowledge graph, and a conversational AI agent to streamline workflows and insight generation.",
  "core_goals": [
    "Enable secure project and document management for M&A deals",
    "Facilitate natural language conversational AI for deal insights and Q&A",
    "Provide guided workflows for CIM creation and Q&A management",
    "Automate document processing and knowledge extraction into a persistent graph",
    "Support deal team collaboration with audit trails and review capabilities"
  ],
  "key_features": [
    "User authentication and robust project/deal management",
    "Secure Data Room with document upload, organization, and IRL-based folder generation",
    "Conversational AI chat with streaming responses, memory, and knowledge graph integration",
    "Confidential Information Memorandum (CIM) builder with AI-guided workflow and slide preview/export",
    "Q&A management including import/export and priority categorization",
    "Knowledge Explorer with findings, contradictions, and gap identification",
    "Information Request List (IRL) management with template support and folder auto-generation",
    "Review Queue for approving AI-generated content",
    "Background processing pipeline for document parsing and analysis",
    "Comprehensive audit trail and system health monitoring"
  ],
  "user_flow_summary": [
    "User logs in with secure credentials and accesses the dashboard listing M&A deals",
    "User creates or selects a deal project to manage documents, conversations, CIMs, and Q&A",
    "Documents uploaded to the data room are processed asynchronously with status tracking",
    "User interacts with AI chat to ask deal-related questions with context remembered and sourced answers",
    "User builds CIMs via guided conversational workflows, previews slides, and exports final pitch decks",
    "User manages Q&A entries, imports answers from clients, and exports questions for distribution",
    "User explores knowledge graph insights to resolve contradictions and analyze findings",
    "Deal team leads review and approve AI content in the review queue before publishing"
  ],
  "validation_criteria": [
    "Successful user login, session persistence, and error messaging for invalid credentials",
    "Project creation reflects immediately in dashboard with correct ownership and structure",
    "Document upload supports supported formats with progress and error handling for oversized files",
    "Processing pipeline updates document status correctly and indexes content including OCR and formulas",
    "Chat responses stream in real-time, maintain context, and include knowledge graph sourced citations",
    "CIM workflows guide user through buyer persona and content creation with slide preview accuracy",
    "Q&A import and export handle Excel files correctly with fuzzy matching and data merging",
    "Knowledge Explorer detects and displays contradictions, allows user corrections, and tracks changes",
    "System uptime meets 99.9% with encrypted data, role-based data access, and multi-tenancy enforcement",
    "Accessibility features support keyboard navigation, screen readers, and high contrast modes"
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 16",
      "React 19",
      "Tailwind CSS 4",
      "shadcn/ui (Radix UI)",
      "Supabase (PostgreSQL + Auth)",
      "Neo4j (Knowledge Graph)",
      "LangGraph / LangChain",
      "Google Cloud Storage",
      "pg-boss (Job Queue)",
      "Vitest (Unit Testing)",
      "Playwright (E2E Testing)"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "User login, signup, and logout with Supabase Auth",
        "files": [
          "app/login/page.tsx",
          "app/signup/page.tsx",
          "app/api/auth/login/route.ts",
          "app/api/auth/logout/route.ts",
          "app/api/auth/signup/route.ts",
          "lib/supabase/client.ts",
          "lib/supabase/middleware.ts"
        ]
      },
      {
        "name": "Projects/Deals Management",
        "description": "Create, list, view, and manage M&A deals/projects",
        "files": [
          "app/projects/page.tsx",
          "app/projects/new/page.tsx",
          "app/projects/[id]/dashboard/page.tsx",
          "app/api/projects/route.ts",
          "lib/api/deals.ts"
        ]
      },
      {
        "name": "Chat/Conversational Agent",
        "description": "AI-powered chat interface with streaming responses, memory, and knowledge graph queries",
        "files": [
          "app/projects/[id]/chat/page.tsx",
          "app/api/projects/[id]/chat/route.ts",
          "app/api/projects/[id]/chat-v2/route.ts",
          "components/chat/ChatInput.tsx",
          "components/chat/MessageItem.tsx",
          "components/chat/ConversationSidebar.tsx",
          "components/chat/CitationRenderer.tsx",
          "components/chat/SourceCitationLink.tsx",
          "components/chat/FollowUpSuggestions.tsx",
          "lib/agent/streaming.ts",
          "lib/hooks/useConversations.ts"
        ]
      },
      {
        "name": "CIM Builder",
        "description": "Confidential Information Memorandum creation with AI-guided workflow, slide preview, and export",
        "files": [
          "app/projects/[id]/cim-builder/page.tsx",
          "app/projects/[id]/cim-builder/[cimId]/page.tsx",
          "app/api/projects/[id]/cims/route.ts",
          "app/api/projects/[id]/cims/[cimId]/route.ts",
          "app/api/projects/[id]/cims/[cimId]/chat/route.ts",
          "app/api/projects/[id]/cims/[cimId]/chat-mvp/route.ts",
          "components/cim-builder/CIMBuilderLayout.tsx",
          "components/cim-builder/CIMListPage.tsx",
          "components/cim-builder/CIMCard.tsx",
          "components/cim-builder/CreateCIMDialog.tsx",
          "components/cim-builder/DeleteCIMDialog.tsx",
          "components/cim-builder/PreviewPanel/SlideCounter.tsx",
          "components/cim-builder/PreviewPanel/SlideNavigation.tsx",
          "components/cim-builder/SourcesPanel/DocumentsList.tsx",
          "components/cim-builder/SourcesPanel/FindingsList.tsx",
          "components/cim-builder/SourcesPanel/QAList.tsx",
          "lib/services/cim.ts",
          "lib/hooks/useCIMs.ts",
          "lib/hooks/useCIMChat.ts"
        ]
      },
      {
        "name": "Data Room",
        "description": "Document upload, organization, folder management, and processing status tracking",
        "files": [
          "app/projects/[id]/data-room/page.tsx",
          "app/api/documents/upload/route.ts",
          "app/api/documents/[id]/route.ts",
          "app/api/projects/[id]/folders/route.ts",
          "app/api/projects/[id]/folders/[folderId]/route.ts",
          "components/data-room/upload-panel.tsx",
          "components/data-room/upload-progress.tsx",
          "components/data-room/document-list.tsx",
          "components/data-room/document-actions.tsx",
          "components/data-room/breadcrumb.tsx",
          "components/data-room/create-folder-dialog.tsx",
          "components/data-room/delete-confirm-dialog.tsx",
          "components/data-room/processing-queue.tsx",
          "components/data-room/processing-status-badge.tsx",
          "lib/gcs/client.ts",
          "lib/hooks/useProcessingQueue.ts",
          "lib/hooks/useDocumentUpdates.ts"
        ]
      },
      {
        "name": "Q&A Management",
        "description": "Question and Answer list for client communication with import/export Excel functionality",
        "files": [
          "app/projects/[id]/qa/page.tsx",
          "app/api/projects/[id]/qa/route.ts",
          "app/api/projects/[id]/qa/[itemId]/route.ts",
          "app/api/projects/[id]/qa/export/route.ts",
          "app/api/projects/[id]/qa/import/preview/route.ts",
          "app/api/projects/[id]/qa/import/confirm/route.ts",
          "components/qa/QATable.tsx",
          "components/qa/QAFilterBar.tsx",
          "components/qa/QAInlineEdit.tsx",
          "components/qa/QAExportButton.tsx",
          "components/qa/PriorityBadge.tsx",
          "components/qa/ConflictResolutionModal.tsx",
          "lib/services/qa.ts",
          "lib/services/qa-export.ts",
          "lib/services/qa-import.ts",
          "lib/hooks/useQAItems.ts",
          "lib/api/qa.ts",
          "lib/types/qa.ts"
        ]
      },
      {
        "name": "Knowledge Explorer",
        "description": "View and manage findings, contradictions, and gaps extracted from documents",
        "files": [
          "app/projects/[id]/knowledge-explorer/page.tsx",
          "app/api/projects/[id]/findings/route.ts",
          "app/api/projects/[id]/findings/[findingId]/route.ts",
          "app/api/projects/[id]/findings/[findingId]/validate/route.ts",
          "app/api/projects/[id]/findings/[findingId]/reject/route.ts",
          "app/api/projects/[id]/findings/[findingId]/correct/route.ts",
          "app/api/projects/[id]/findings/export/route.ts",
          "app/api/projects/[id]/contradictions/route.ts",
          "app/api/projects/[id]/contradictions/[contradictionId]/resolve/route.ts",
          "app/api/projects/[id]/gaps/route.ts",
          "app/api/projects/[id]/gaps/[gapId]/resolve/route.ts",
          "components/knowledge-explorer/findings/FindingCard.tsx",
          "components/knowledge-explorer/findings/FindingDetailPanel.tsx",
          "components/knowledge-explorer/findings/FindingActions.tsx",
          "components/knowledge-explorer/findings/FindingsCardGrid.tsx",
          "components/knowledge-explorer/contradictions/ContradictionCard.tsx",
          "components/knowledge-explorer/contradictions/ContradictionsView.tsx",
          "components/knowledge-explorer/gaps/GapCard.tsx",
          "components/knowledge-explorer/gaps/GapAnalysisView.tsx",
          "lib/api/findings.ts",
          "lib/api/contradictions.ts",
          "lib/api/gaps.ts",
          "lib/hooks/useFindingsRealtime.ts",
          "lib/hooks/useContradictionsRealtime.ts"
        ]
      },
      {
        "name": "IRL Management",
        "description": "Information Request List with templates, import, export, and folder generation",
        "files": [
          "app/api/projects/[id]/irls/route.ts",
          "app/api/projects/[id]/irls/[irlId]/route.ts",
          "app/api/projects/[id]/irls/[irlId]/items/route.ts",
          "app/api/projects/[id]/irls/[irlId]/export/route.ts",
          "app/api/projects/[id]/irls/[irlId]/generate-folders/route.ts",
          "app/api/projects/[id]/irls/templates/route.ts",
          "app/api/projects/[id]/irl/import/route.ts",
          "app/api/irl/preview/route.ts",
          "components/irl/IRLBuilder.tsx",
          "components/irl/IRLExportDropdown.tsx",
          "components/irl/IRLProgressVisualization.tsx",
          "components/irl/IRLTemplateModal.tsx",
          "lib/services/irls.ts"
        ]
      },
      {
        "name": "Review Queue",
        "description": "Review and approve AI-generated content before publishing",
        "files": [
          "app/projects/[id]/review-queue/page.tsx",
          "app/api/projects/[id]/review-queue/route.ts",
          "app/api/projects/[id]/review-queue/[itemId]/route.ts",
          "app/api/projects/[id]/review-queue/[itemId]/regenerate/route.ts"
        ]
      },
      {
        "name": "Conversations Management",
        "description": "Create, list, rename, and delete conversation threads",
        "files": [
          "app/api/projects/[id]/conversations/route.ts",
          "app/api/projects/[id]/conversations/[conversationId]/route.ts",
          "app/api/projects/[id]/conversations/[conversationId]/messages/route.ts",
          "lib/hooks/useConversations.ts"
        ]
      },
      {
        "name": "Document Processing Pipeline",
        "description": "Background job processing for document parsing, analysis, and knowledge graph ingestion",
        "files": [
          "app/api/processing/queue/route.ts",
          "app/api/processing/queue/[jobId]/route.ts",
          "app/api/jobs/route.ts",
          "app/api/jobs/[jobId]/route.ts",
          "lib/pgboss/client.ts",
          "lib/pgboss/handlers/document-parse.ts",
          "lib/pgboss/handlers/analyze-document.ts",
          "lib/pgboss/handlers/update-graph.ts"
        ]
      },
      {
        "name": "Neo4j Knowledge Graph",
        "description": "Knowledge graph operations for storing and querying findings, entities, and relationships",
        "files": [
          "lib/neo4j/client.ts",
          "lib/neo4j/operations.ts",
          "lib/neo4j/schema.ts",
          "lib/neo4j/types.ts",
          "app/api/health/neo4j/route.ts"
        ]
      },
      {
        "name": "Audit Trail",
        "description": "Logging and tracking of user actions, corrections, and validations",
        "files": [
          "app/api/projects/[id]/audit/route.ts",
          "app/api/projects/[id]/audit/corrections/route.ts",
          "app/api/projects/[id]/audit/edits/route.ts",
          "app/api/projects/[id]/audit/validations/route.ts",
          "app/api/projects/[id]/audit/export/route.ts",
          "lib/audit/logger.ts",
          "lib/audit/event-types.ts",
          "lib/services/audit-trail.ts",
          "lib/services/audit-export.ts"
        ]
      },
      {
        "name": "Health Checks",
        "description": "API health endpoints for monitoring system status",
        "files": [
          "app/api/health/route.ts",
          "app/api/health/neo4j/route.ts",
          "app/api/health/pgboss/route.ts"
        ]
      }
    ]
  }
}
